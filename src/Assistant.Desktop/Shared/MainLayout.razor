@using Microsoft.AspNetCore.Components.Routing
@inherits LayoutComponentBase

<FluentLayout Style="@("background-color: var(--neutral-layer-3)")">
    <FluentStack Orientation="Orientation.Horizontal" Class="main-content">
        <FluentStack Orientation="Orientation.Vertical" Style="height: 100%;width: 96px">
            <div style="@("background-color: var(--neutral-layer-3); overflow: auto; resize: vertical; width: 86px; height: 100%; padding: 10px;")">
                <FluentAppBar Orientation="Orientation.Vertical"
                              Style="@(" background-color: var(--neutral-layer-2); padding-top:10px;")">

                    <FluentAppBarItem Href="/"
                                      Match="NavLinkMatch.All"
                                      IconRest="ChatIcon()"
                                      IconActive="ChatIcon(active: true)"
                                      Text="Chat"/>
                    <FluentAppBarItem Href="/Counter"
                                      IconRest="MemoryIcon()"
                                      IconActive="MemoryIcon(active: true)"
                                      Text="Memory"/>
                    <FluentSpacer></FluentSpacer>
                    <FluentAppBarItem Href="/Settings"
                                      IconRest="SettingsIcon()"
                                      IconActive="SettingsIcon(active: true)"
                                      Text="Settings"/>
                </FluentAppBar>
            </div>
        </FluentStack>
        
        <FluentBodyContent Class="page-content">
            @Body
        </FluentBodyContent>
    </FluentStack>
</FluentLayout>

<style>
    .main-content {
        height: 100vh;
    }
    .page-content {
        padding: 1rem;
        width: 100%;
        height: 100%;
        overflow-y: auto;
    }
</style>

@code {
    private static Icon ChatIcon(bool active = false) =>
        active ? new Icons.Filled.Size24.Chat()
            : new Icons.Regular.Size24.Chat();
    
    private static Icon MemoryIcon(bool active = false) =>
        active ? new Icons.Filled.Size24.BookDatabase()
            : new Icons.Regular.Size24.BookDatabase();
    
    private static Icon SettingsIcon(bool active = false) =>
        active ? new Icons.Filled.Size24.Settings()
            : new Icons.Regular.Size24.Settings();
}
